<div *ngIf="loading">Loading user goals...</div>
<div *ngIf="errorMessage">{{ errorMessage }}</div>
<div class="body" >
  <div class="goals-block">
    <section class="goals-overview">
        <h2 class="headlevel-three">Current Goals</h2>
        <div class="cards">
          <div class="card">
            <div class="icon-block">
              <div class="icon">
                <img src="assets/images/icons/tperform.png" alt="Weekly work hour">
              </div>
            </div>
            <h4 class="perf-cont">Completed Task</h4>
            <p class="value">{{ totalCompleted }}</p>
            <!-- <div class="d-flex justify-content-center">
              <button class="gradientBtn custom">View Attendance <span>
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="800px" width="800px" version="1.1" id="Layer_1" viewBox="0 0 330 330" xml:space="preserve">
                  <path id="XMLID_222_" d="M250.606,154.389l-150-149.996c-5.857-5.858-15.355-5.858-21.213,0.001  c-5.857,5.858-5.857,15.355,0.001,21.213l139.393,139.39L79.393,304.394c-5.857,5.858-5.857,15.355,0.001,21.213  C82.322,328.536,86.161,330,90,330s7.678-1.464,10.607-4.394l149.999-150.004c2.814-2.813,4.394-6.628,4.394-10.606  C255,161.018,253.42,157.202,250.606,154.389z"/>
                  </svg>
                </span>
              </button>
            </div> -->
          </div>

          <div class="card">
            <div class="icon-block">
              <div class="icon">
                <img src="assets/images/icons/lucide_goal.png" alt="Weekly work hour">
              </div>
            </div>
            <h4 class="perf-cont">Completed Project</h4>
            <p class="value">{{ completedProject  }}</p>
            <div class="d-flex justify-content-center">
              <!-- <button class="gradientBtn custom">View Attendance <span>
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="800px" width="800px" version="1.1" id="Layer_1" viewBox="0 0 330 330" xml:space="preserve">
                  <path id="XMLID_222_" d="M250.606,154.389l-150-149.996c-5.857-5.858-15.355-5.858-21.213,0.001  c-5.857,5.858-5.857,15.355,0.001,21.213l139.393,139.39L79.393,304.394c-5.857,5.858-5.857,15.355,0.001,21.213  C82.322,328.536,86.161,330,90,330s7.678-1.464,10.607-4.394l149.999-150.004c2.814-2.813,4.394-6.628,4.394-10.606  C255,161.018,253.42,157.202,250.606,154.389z"/>
                  </svg>
                </span>
              </button> -->
            </div>
          </div>

          <div class="card">
            <div class="icon-block">
              <div class="icon">
                <img src="assets/images/icons/speedrate.png" alt="Weekly work hour">
              </div>
            </div>
            <h4 class="perf-cont">Pending Goals</h4>
            <p class="value">{{ totalPending }}</p>
            <!-- <div class="d-flex justify-content-center">
              <button class="gradientBtn custom">View Attendance <span>
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="800px" width="800px" version="1.1" id="Layer_1" viewBox="0 0 330 330" xml:space="preserve">
                  <path id="XMLID_222_" d="M250.606,154.389l-150-149.996c-5.857-5.858-15.355-5.858-21.213,0.001  c-5.857,5.858-5.857,15.355,0.001,21.213l139.393,139.39L79.393,304.394c-5.857,5.858-5.857,15.355,0.001,21.213  C82.322,328.536,86.161,330,90,330s7.678-1.464,10.607-4.394l149.999-150.004c2.814-2.813,4.394-6.628,4.394-10.606  C255,161.018,253.42,157.202,250.606,154.389z"/>
                  </svg>
              </span>
            </button>
            </div> -->
          </div>

          <div class="card">
            <div class="icon-block">
              <div class="icon">
                <img src="assets/images/icons/track.png" alt="Weekly work hour">
              </div>
            </div>
            <h4 class="perf-cont">Upcoming Projects</h4>
            <p class="value">{{ upcommingProject }}</p>
            <!-- <div class="d-flex justify-content-center">
              <button class="gradientBtn custom">View Attendance <span>
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="800px" width="800px" version="1.1" id="Layer_1" viewBox="0 0 330 330" xml:space="preserve">
                  <path id="XMLID_222_" d="M250.606,154.389l-150-149.996c-5.857-5.858-15.355-5.858-21.213,0.001  c-5.857,5.858-5.857,15.355,0.001,21.213l139.393,139.39L79.393,304.394c-5.857,5.858-5.857,15.355,0.001,21.213  C82.322,328.536,86.161,330,90,330s7.678-1.464,10.607-4.394l149.999-150.004c2.814-2.813,4.394-6.628,4.394-10.606  C255,161.018,253.42,157.202,250.606,154.389z"/>
                  </svg>
              </span>
            </button>
            </div> -->
          </div>
        </div>
    </section>

    <section class="progress-tracking">
        <h2 class="headlevel-three">Goal Progress Tracking</h2>
        <table class="progress-table">
            <thead class="thead-col">
                <tr>
                    <th>Task</th>
                    <th>Deadline</th>
                    <th>Status</th>
                    <th>Progress Note</th>
                    <th>Next Step</th>
                </tr>
            </thead>
            <tbody *ngIf="!loading && tasks.length">
                <tr *ngFor="let task of tasks">
                    <td>{{ task.description }}</td>
                    <td>{{ task.deadline }}</td>
                    <td>{{ task.status }}</td>
                    <td>{{task.progress_note}}</td>
                    <td>Follow up with potential clients</td>
                </tr>
            </tbody>
        </table>
    </section>
  </div>


</div>


<!-- Goal  -->

<!-- <div *ngIf="loading">Loading user goals...</div>
<div *ngIf="errorMessage">{{ errorMessage }}</div>

<div *ngIf="!loading && tasks.length">
  <h3>Task Summary</h3>
  <ul>
    <li>Completed: {{ totalCompleted }}</li>
    <li>Pending: {{ totalPending }}</li>
    <li>In Progress: {{ totalInProgress }}</li>
  </ul>

  <h3>Task List</h3>
  <table>
    <thead>
      <tr>
        <th>Description</th>
        <th>Assigned By</th>
        <th>Project</th>
        <th>Priority</th>
        <th>Status</th>
        <th>Start Date</th>
        <th>Deadline</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let task of tasks">
        <td>{{ task.description }}</td>
        <td>{{ task.assigned_by?.name || 'N/A' }}</td>
        <td>{{ task.project?.name || 'N/A' }}</td>
        <td>{{ task.priority }}</td>
        <td>{{ task.status }}</td>
        <td>{{ task.date }}</td>
        <td>{{ task.deadline }}</td>
      </tr>
    </tbody>
  </table>
</div> -->
